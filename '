from PyQt5.QtWidgets import QWidget, QPushButton, QLabel
from PyQt5 import uic
from utilities.display import GraphicDisplayer


class ReviewWidget(QWidget):
    def __init__(self):
        QWidget.__init__(self)
        self.initUI()

        self.next_button = self.findChild(QPushButton, 'next_button')
        self.next_button.clicked.connect(self.__click_next_button)

        self.sound_buton = self.findChild(QPushButton, 'sound_buton')
        self.sound_buton.clicked.connect(self.__click_sound_button)

        self.word_label = self.findChild(QLabel, 'word_label')
        self.word_type_label = self.findChild(QLabel, 'word_type_label')
        self.ipa = self.findChild(QLabel, 'ipa_label')

        self.definition_label_1 = self.findChild(QLabel, 'definition_label_1')
        self.definition_label_2 = self.findChild(QLabel, 'definition_label_2')
        self.definition_label_3 = self.findChild(QLabel, 'definition_label_3')

        self.example_label_1 = self.findChild(QLabel, 'example_label_1')
        self.example_label_2 = self.findChild(QLabel, 'example_label_2')
        self.example_label_3 = self.findChild(QLabel, 'example_label_3')

        self.my_example_label_1 = self.findChild(QLabel, 'my_example_label_1')
        self.my_example_label_2 = self.findChild(QLabel, 'my_example_label_2')
        self.my_example_label_3 = self.findChild(QLabel, 'my_example_label_3')
        
        self.graphic_displayer = GraphicDisplayer(self.__graphic_dict())
        self.

    def __graphic_sense(self, definition, example, my_example):
        return {
                "definition": definition,
                "example": example,
                "my_example": my_example
                }

    def __graphic_dict(self):
        return {
                "word": self.word_label,
                "word_type": self.word_type_label,
                "ipa": self.ipa_label,
                "senses": [self.__graphic_sense(self.definition_label_1, self.example_label_1, self.my_example_label_1),
                    self.__graphic_sense(self.definition_label_2, self.example_label_2, self.my_example_label_2),
                    self.__graphic_sense(self.definition_label_3, self.example_label_3, self.my_example_label_3)]
                }
        
    def initUI(self):
        uic.load('ui_files/search_widget.ui', self)

    def __click_next_button(self):
        pass 

    def __click_sound_button(self):
        pass

